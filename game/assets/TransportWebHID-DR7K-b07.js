import{g as bt,l as Ct,B as G,a as ct,D as Dt,T as De,b as xt,c as Ut,d as Ft}from"./index-BgUxJhT2.js";function jt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lt={exports:{}},T=lt.exports={},F,j;function Re(){throw new Error("setTimeout has not been defined")}function ge(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?F=setTimeout:F=Re}catch{F=Re}try{typeof clearTimeout=="function"?j=clearTimeout:j=ge}catch{j=ge}})();function ut(r){if(F===setTimeout)return setTimeout(r,0);if((F===Re||!F)&&setTimeout)return F=setTimeout,setTimeout(r,0);try{return F(r,0)}catch{try{return F.call(null,r,0)}catch{return F.call(this,r,0)}}}function Gt(r){if(j===clearTimeout)return clearTimeout(r);if((j===ge||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(r);try{return j(r)}catch{try{return j.call(null,r)}catch{return j.call(this,r)}}}var k=[],W=!1,z,ie=-1;function Xt(){!W||!z||(W=!1,z.length?k=z.concat(k):ie=-1,k.length&&ft())}function ft(){if(!W){var r=ut(Xt);W=!0;for(var t=k.length;t;){for(z=k,k=[];++ie<t;)z&&z[ie].run();ie=-1,t=k.length}z=null,W=!1,Gt(r)}}T.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];k.push(new ht(r,t)),k.length===1&&!W&&ut(ft)};function ht(r,t){this.fun=r,this.array=t}ht.prototype.run=function(){this.fun.apply(null,this.array)};T.title="browser";T.browser=!0;T.env={};T.argv=[];T.version="";T.versions={};function B(){}T.on=B;T.addListener=B;T.once=B;T.off=B;T.removeListener=B;T.removeAllListeners=B;T.emit=B;T.prependListener=B;T.prependOnceListener=B;T.listeners=function(r){return[]};T.binding=function(r){throw new Error("process.binding is not supported")};T.cwd=function(){return"/"};T.chdir=function(r){throw new Error("process.chdir is not supported")};T.umask=function(){return 0};var Vt=lt.exports;const kt=jt(Vt);var dt={};const Bt=bt(Ct);(function(r){r.__esModule=!0;var t=Bt,e=5;function n(l){var h=G.alloc(2);return h.writeUInt16BE(l,0),h}var a={data:G.alloc(0),dataLength:0,sequence:0},s=function(l,h){return{makeBlocks:function(o){var i=G.concat([n(o.length),o]),c=h-5,f=Math.ceil(i.length/c);i=G.concat([i,G.alloc(f*c-i.length+1).fill(0)]);for(var g=[],d=0;d<f;d++){var p=G.alloc(5);p.writeUInt16BE(l,0),p.writeUInt8(e,2),p.writeUInt16BE(d,3);var _=i.slice(d*c,(d+1)*c);g.push(G.concat([p,_]))}return g},reduceResponse:function(o,i){var c=o||a,f=c.data,g=c.dataLength,d=c.sequence;if(i.readUInt16BE(0)!==l)throw new t.TransportError("Invalid channel","InvalidChannel");if(i.readUInt8(2)!==e)throw new t.TransportError("Invalid tag","InvalidTag");if(i.readUInt16BE(3)!==d)throw new t.TransportError("Invalid sequence","InvalidSequence");o||(g=i.readUInt16BE(5)),d++;var p=i.slice(o?5:7);return f=G.concat([f,p]),f.length>g&&(f=f.slice(0,g)),{data:f,dataLength:g,sequence:d}},getReducedResult:function(o){if(o&&o.dataLength===o.data.length)return o.data}}};r.default=s})(dt);const Mt=ct(dt);var Se={exports:{}};const qt="2.0.0",Et=256,Ht=Number.MAX_SAFE_INTEGER||9007199254740991,zt=16,Yt=Et-6,Wt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var oe={MAX_LENGTH:Et,MAX_SAFE_COMPONENT_LENGTH:zt,MAX_SAFE_BUILD_LENGTH:Yt,MAX_SAFE_INTEGER:Ht,RELEASE_TYPES:Wt,SEMVER_SPEC_VERSION:qt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},he={};const Kt=typeof kt=="object"&&he&&he.NODE_DEBUG&&/\bsemver\b/i.test(he.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var ce=Kt;(function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:e,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=oe,s=ce;t=r.exports={};const l=t.re=[],h=t.safeRe=[],o=t.src=[],i=t.t={};let c=0;const f="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",a],[f,n]],d=_=>{for(const[y,b]of g)_=_.split(`${y}*`).join(`${y}{0,${b}}`).split(`${y}+`).join(`${y}{1,${b}}`);return _},p=(_,y,b)=>{const O=d(y),q=c++;s(_,q,y),i[_]=q,o[q]=y,l[q]=new RegExp(y,b?"g":void 0),h[q]=new RegExp(O,b?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),p("FULL",`^${o[i.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),p("LOOSE",`^${o[i.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),p("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?`),p("COERCE",`${o[i.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",o[i.COERCEPLAIN]+`(?:${o[i.PRERELEASE]})?(?:${o[i.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",o[i.COERCE],!0),p("COERCERTLFULL",o[i.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Se,Se.exports);var J=Se.exports;const Qt=Object.freeze({loose:!0}),Zt=Object.freeze({}),Jt=r=>r?typeof r!="object"?Qt:r:Zt;var Ne=Jt;const xe=/^[0-9]+$/,pt=(r,t)=>{const e=xe.test(r),n=xe.test(t);return e&&n&&(r=+r,t=+t),r===t?0:e&&!n?-1:n&&!e?1:r<t?-1:1},er=(r,t)=>pt(t,r);var $t={compareIdentifiers:pt,rcompareIdentifiers:er};const ee=ce,{MAX_LENGTH:Ue,MAX_SAFE_INTEGER:te}=oe,{safeRe:Fe,t:je}=J,tr=Ne,{compareIdentifiers:Y}=$t;let rr=class U{constructor(t,e){if(e=tr(e),t instanceof U){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ue)throw new TypeError(`version is longer than ${Ue} characters`);ee("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?Fe[je.LOOSE]:Fe[je.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>te||this.major<0)throw new TypeError("Invalid major version");if(this.minor>te||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>te||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const s=+a;if(s>=0&&s<te)return s}return a}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ee("SemVer.compare",this.version,this.options,t),!(t instanceof U)){if(typeof t=="string"&&t===this.version)return 0;t=new U(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof U||(t=new U(t,this.options)),Y(this.major,t.major)||Y(this.minor,t.minor)||Y(this.patch,t.patch)}comparePre(t){if(t instanceof U||(t=new U(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],a=t.prerelease[e];if(ee("prerelease compare",e,n,a),n===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(n===void 0)return-1;if(n===a)continue;return Y(n,a)}while(++e)}compareBuild(t){t instanceof U||(t=new U(t,this.options));let e=0;do{const n=this.build[e],a=t.build[e];if(ee("build compare",e,n,a),n===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(n===void 0)return-1;if(n===a)continue;return Y(n,a)}while(++e)}inc(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const a=Number(n)?1:0;if(!e&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[a];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(e===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(e){let s=[e,a];n===!1&&(s=[e]),Y(this.prerelease[0],e)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var P=rr;const Ge=P,nr=(r,t,e=!1)=>{if(r instanceof Ge)return r;try{return new Ge(r,t)}catch(n){if(!e)return null;throw n}};var K=nr;const sr=K,ir=(r,t)=>{const e=sr(r,t);return e?e.version:null};var ar=ir;const or=K,cr=(r,t)=>{const e=or(r.trim().replace(/^[=v]+/,""),t);return e?e.version:null};var lr=cr;const Xe=P,ur=(r,t,e,n,a)=>{typeof e=="string"&&(a=n,n=e,e=void 0);try{return new Xe(r instanceof Xe?r.version:r,e).inc(t,n,a).version}catch{return null}};var fr=ur;const Ve=K,hr=(r,t)=>{const e=Ve(r,null,!0),n=Ve(t,null,!0),a=e.compare(n);if(a===0)return null;const s=a>0,l=s?e:n,h=s?n:e,o=!!l.prerelease.length;if(!!h.prerelease.length&&!o)return!h.patch&&!h.minor?"major":l.patch?"patch":l.minor?"minor":"major";const c=o?"pre":"";return e.major!==n.major?c+"major":e.minor!==n.minor?c+"minor":e.patch!==n.patch?c+"patch":"prerelease"};var dr=hr;const Er=P,pr=(r,t)=>new Er(r,t).major;var $r=pr;const mr=P,vr=(r,t)=>new mr(r,t).minor;var Ir=vr;const Rr=P,gr=(r,t)=>new Rr(r,t).patch;var Sr=gr;const Lr=K,wr=(r,t)=>{const e=Lr(r,t);return e&&e.prerelease.length?e.prerelease:null};var Tr=wr;const ke=P,Nr=(r,t,e)=>new ke(r,e).compare(new ke(t,e));var D=Nr;const Or=D,Ar=(r,t,e)=>Or(t,r,e);var yr=Ar;const Pr=D,_r=(r,t)=>Pr(r,t,!0);var br=_r;const Be=P,Cr=(r,t,e)=>{const n=new Be(r,e),a=new Be(t,e);return n.compare(a)||n.compareBuild(a)};var Oe=Cr;const Dr=Oe,xr=(r,t)=>r.sort((e,n)=>Dr(e,n,t));var Ur=xr;const Fr=Oe,jr=(r,t)=>r.sort((e,n)=>Fr(n,e,t));var Gr=jr;const Xr=D,Vr=(r,t,e)=>Xr(r,t,e)>0;var le=Vr;const kr=D,Br=(r,t,e)=>kr(r,t,e)<0;var Ae=Br;const Mr=D,qr=(r,t,e)=>Mr(r,t,e)===0;var mt=qr;const Hr=D,zr=(r,t,e)=>Hr(r,t,e)!==0;var vt=zr;const Yr=D,Wr=(r,t,e)=>Yr(r,t,e)>=0;var ye=Wr;const Kr=D,Qr=(r,t,e)=>Kr(r,t,e)<=0;var Pe=Qr;const Zr=mt,Jr=vt,en=le,tn=ye,rn=Ae,nn=Pe,sn=(r,t,e,n)=>{switch(t){case"===":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r===e;case"!==":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r!==e;case"":case"=":case"==":return Zr(r,e,n);case"!=":return Jr(r,e,n);case">":return en(r,e,n);case">=":return tn(r,e,n);case"<":return rn(r,e,n);case"<=":return nn(r,e,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var It=sn;const an=P,on=K,{safeRe:re,t:ne}=J,cn=(r,t)=>{if(r instanceof an)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;t=t||{};let e=null;if(!t.rtl)e=r.match(t.includePrerelease?re[ne.COERCEFULL]:re[ne.COERCE]);else{const o=t.includePrerelease?re[ne.COERCERTLFULL]:re[ne.COERCERTL];let i;for(;(i=o.exec(r))&&(!e||e.index+e[0].length!==r.length);)(!e||i.index+i[0].length!==e.index+e[0].length)&&(e=i),o.lastIndex=i.index+i[1].length+i[2].length;o.lastIndex=-1}if(e===null)return null;const n=e[2],a=e[3]||"0",s=e[4]||"0",l=t.includePrerelease&&e[5]?`-${e[5]}`:"",h=t.includePrerelease&&e[6]?`+${e[6]}`:"";return on(`${n}.${a}.${s}${l}${h}`,t)};var ln=cn;class un{constructor(){this.max=1e3,this.map=new Map}get(t){const e=this.map.get(t);if(e!==void 0)return this.map.delete(t),this.map.set(t,e),e}delete(t){return this.map.delete(t)}set(t,e){if(!this.delete(t)&&e!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(t,e)}return this}}var fn=un,de,Me;function x(){if(Me)return de;Me=1;class r{constructor(u,I){if(I=n(I),u instanceof r)return u.loose===!!I.loose&&u.includePrerelease===!!I.includePrerelease?u:new r(u.raw,I);if(u instanceof a)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(m=>this.parseRange(m.trim())).filter(m=>m.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const m=this.set[0];if(this.set=this.set.filter(v=>!p(v[0])),this.set.length===0)this.set=[m];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&_(v[0])){this.set=[v];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const m=((this.options.includePrerelease&&g)|(this.options.loose&&d))+":"+u,v=e.get(m);if(v)return v;const $=this.options.loose,R=$?h[o.HYPHENRANGELOOSE]:h[o.HYPHENRANGE];u=u.replace(R,Pt(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(h[o.COMPARATORTRIM],i),s("comparator trim",u),u=u.replace(h[o.TILDETRIM],c),s("tilde trim",u),u=u.replace(h[o.CARETTRIM],f),s("caret trim",u);let L=u.split(" ").map(N=>b(N,this.options)).join(" ").split(/\s+/).map(N=>yt(N,this.options));$&&(L=L.filter(N=>(s("loose invalid filter",N,this.options),!!N.match(h[o.COMPARATORLOOSE])))),s("range list",L);const S=new Map,w=L.map(N=>new a(N,this.options));for(const N of w){if(p(N))return[N];S.set(N.value,N)}S.size>1&&S.has("")&&S.delete("");const C=[...S.values()];return e.set(m,C),C}intersects(u,I){if(!(u instanceof r))throw new TypeError("a Range is required");return this.set.some(m=>y(m,I)&&u.set.some(v=>y(v,I)&&m.every($=>v.every(R=>$.intersects(R,I)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new l(u,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(_t(this.set[I],u,this.options))return!0;return!1}}de=r;const t=fn,e=new t,n=Ne,a=ue(),s=ce,l=P,{safeRe:h,t:o,comparatorTrimReplace:i,tildeTrimReplace:c,caretTrimReplace:f}=J,{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:d}=oe,p=E=>E.value==="<0.0.0-0",_=E=>E.value==="",y=(E,u)=>{let I=!0;const m=E.slice();let v=m.pop();for(;I&&m.length;)I=m.every($=>v.intersects($,u)),v=m.pop();return I},b=(E,u)=>(s("comp",E,u),E=wt(E,u),s("caret",E),E=q(E,u),s("tildes",E),E=Nt(E,u),s("xrange",E),E=At(E,u),s("stars",E),E),O=E=>!E||E.toLowerCase()==="x"||E==="*",q=(E,u)=>E.trim().split(/\s+/).map(I=>Lt(I,u)).join(" "),Lt=(E,u)=>{const I=u.loose?h[o.TILDELOOSE]:h[o.TILDE];return E.replace(I,(m,v,$,R,L)=>{s("tilde",E,m,v,$,R,L);let S;return O(v)?S="":O($)?S=`>=${v}.0.0 <${+v+1}.0.0-0`:O(R)?S=`>=${v}.${$}.0 <${v}.${+$+1}.0-0`:L?(s("replaceTilde pr",L),S=`>=${v}.${$}.${R}-${L} <${v}.${+$+1}.0-0`):S=`>=${v}.${$}.${R} <${v}.${+$+1}.0-0`,s("tilde return",S),S})},wt=(E,u)=>E.trim().split(/\s+/).map(I=>Tt(I,u)).join(" "),Tt=(E,u)=>{s("caret",E,u);const I=u.loose?h[o.CARETLOOSE]:h[o.CARET],m=u.includePrerelease?"-0":"";return E.replace(I,(v,$,R,L,S)=>{s("caret",E,v,$,R,L,S);let w;return O($)?w="":O(R)?w=`>=${$}.0.0${m} <${+$+1}.0.0-0`:O(L)?$==="0"?w=`>=${$}.${R}.0${m} <${$}.${+R+1}.0-0`:w=`>=${$}.${R}.0${m} <${+$+1}.0.0-0`:S?(s("replaceCaret pr",S),$==="0"?R==="0"?w=`>=${$}.${R}.${L}-${S} <${$}.${R}.${+L+1}-0`:w=`>=${$}.${R}.${L}-${S} <${$}.${+R+1}.0-0`:w=`>=${$}.${R}.${L}-${S} <${+$+1}.0.0-0`):(s("no pr"),$==="0"?R==="0"?w=`>=${$}.${R}.${L}${m} <${$}.${R}.${+L+1}-0`:w=`>=${$}.${R}.${L}${m} <${$}.${+R+1}.0-0`:w=`>=${$}.${R}.${L} <${+$+1}.0.0-0`),s("caret return",w),w})},Nt=(E,u)=>(s("replaceXRanges",E,u),E.split(/\s+/).map(I=>Ot(I,u)).join(" ")),Ot=(E,u)=>{E=E.trim();const I=u.loose?h[o.XRANGELOOSE]:h[o.XRANGE];return E.replace(I,(m,v,$,R,L,S)=>{s("xRange",E,m,v,$,R,L,S);const w=O($),C=w||O(R),N=C||O(L),Q=N;return v==="="&&Q&&(v=""),S=u.includePrerelease?"-0":"",w?v===">"||v==="<"?m="<0.0.0-0":m="*":v&&Q?(C&&(R=0),L=0,v===">"?(v=">=",C?($=+$+1,R=0,L=0):(R=+R+1,L=0)):v==="<="&&(v="<",C?$=+$+1:R=+R+1),v==="<"&&(S="-0"),m=`${v+$}.${R}.${L}${S}`):C?m=`>=${$}.0.0${S} <${+$+1}.0.0-0`:N&&(m=`>=${$}.${R}.0${S} <${$}.${+R+1}.0-0`),s("xRange return",m),m})},At=(E,u)=>(s("replaceStars",E,u),E.trim().replace(h[o.STAR],"")),yt=(E,u)=>(s("replaceGTE0",E,u),E.trim().replace(h[u.includePrerelease?o.GTE0PRE:o.GTE0],"")),Pt=E=>(u,I,m,v,$,R,L,S,w,C,N,Q)=>(O(m)?I="":O(v)?I=`>=${m}.0.0${E?"-0":""}`:O($)?I=`>=${m}.${v}.0${E?"-0":""}`:R?I=`>=${I}`:I=`>=${I}${E?"-0":""}`,O(w)?S="":O(C)?S=`<${+w+1}.0.0-0`:O(N)?S=`<${w}.${+C+1}.0-0`:Q?S=`<=${w}.${C}.${N}-${Q}`:E?S=`<${w}.${C}.${+N+1}-0`:S=`<=${S}`,`${I} ${S}`.trim()),_t=(E,u,I)=>{for(let m=0;m<E.length;m++)if(!E[m].test(u))return!1;if(u.prerelease.length&&!I.includePrerelease){for(let m=0;m<E.length;m++)if(s(E[m].semver),E[m].semver!==a.ANY&&E[m].semver.prerelease.length>0){const v=E[m].semver;if(v.major===u.major&&v.minor===u.minor&&v.patch===u.patch)return!0}return!1}return!0};return de}var Ee,qe;function ue(){if(qe)return Ee;qe=1;const r=Symbol("SemVer ANY");class t{static get ANY(){return r}constructor(c,f){if(f=e(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),l("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(c){const f=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],g=c.match(f);if(!g)throw new TypeError(`Invalid comparator: ${c}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new h(g[2],this.options.loose):this.semver=r}toString(){return this.value}test(c){if(l("Comparator.test",c,this.options.loose),this.semver===r||c===r)return!0;if(typeof c=="string")try{c=new h(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new o(this.value,f).test(c.semver):(f=e(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Ee=t;const e=Ne,{safeRe:n,t:a}=J,s=It,l=ce,h=P,o=x();return Ee}const hn=x(),dn=(r,t,e)=>{try{t=new hn(t,e)}catch{return!1}return t.test(r)};var fe=dn;const En=x(),pn=(r,t)=>new En(r,t).set.map(e=>e.map(n=>n.value).join(" ").trim().split(" "));var $n=pn;const mn=P,vn=x(),In=(r,t,e)=>{let n=null,a=null,s=null;try{s=new vn(t,e)}catch{return null}return r.forEach(l=>{s.test(l)&&(!n||a.compare(l)===-1)&&(n=l,a=new mn(n,e))}),n};var Rn=In;const gn=P,Sn=x(),Ln=(r,t,e)=>{let n=null,a=null,s=null;try{s=new Sn(t,e)}catch{return null}return r.forEach(l=>{s.test(l)&&(!n||a.compare(l)===1)&&(n=l,a=new gn(n,e))}),n};var wn=Ln;const pe=P,Tn=x(),He=le,Nn=(r,t)=>{r=new Tn(r,t);let e=new pe("0.0.0");if(r.test(e)||(e=new pe("0.0.0-0"),r.test(e)))return e;e=null;for(let n=0;n<r.set.length;++n){const a=r.set[n];let s=null;a.forEach(l=>{const h=new pe(l.semver.version);switch(l.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!s||He(h,s))&&(s=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),s&&(!e||He(e,s))&&(e=s)}return e&&r.test(e)?e:null};var On=Nn;const An=x(),yn=(r,t)=>{try{return new An(r,t).range||"*"}catch{return null}};var Pn=yn;const _n=P,Rt=ue(),{ANY:bn}=Rt,Cn=x(),Dn=fe,ze=le,Ye=Ae,xn=Pe,Un=ye,Fn=(r,t,e,n)=>{r=new _n(r,n),t=new Cn(t,n);let a,s,l,h,o;switch(e){case">":a=ze,s=xn,l=Ye,h=">",o=">=";break;case"<":a=Ye,s=Un,l=ze,h="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Dn(r,t,n))return!1;for(let i=0;i<t.set.length;++i){const c=t.set[i];let f=null,g=null;if(c.forEach(d=>{d.semver===bn&&(d=new Rt(">=0.0.0")),f=f||d,g=g||d,a(d.semver,f.semver,n)?f=d:l(d.semver,g.semver,n)&&(g=d)}),f.operator===h||f.operator===o||(!g.operator||g.operator===h)&&s(r,g.semver))return!1;if(g.operator===o&&l(r,g.semver))return!1}return!0};var _e=Fn;const jn=_e,Gn=(r,t,e)=>jn(r,t,">",e);var Xn=Gn;const Vn=_e,kn=(r,t,e)=>Vn(r,t,"<",e);var Bn=kn;const We=x(),Mn=(r,t,e)=>(r=new We(r,e),t=new We(t,e),r.intersects(t,e));var qn=Mn;const Hn=fe,zn=D;var Yn=(r,t,e)=>{const n=[];let a=null,s=null;const l=r.sort((c,f)=>zn(c,f,e));for(const c of l)Hn(c,t,e)?(s=c,a||(a=c)):(s&&n.push([a,s]),s=null,a=null);a&&n.push([a,null]);const h=[];for(const[c,f]of n)c===f?h.push(c):!f&&c===l[0]?h.push("*"):f?c===l[0]?h.push(`<=${f}`):h.push(`${c} - ${f}`):h.push(`>=${c}`);const o=h.join(" || "),i=typeof t.raw=="string"?t.raw:String(t);return o.length<i.length?o:t};const Ke=x(),be=ue(),{ANY:$e}=be,Z=fe,Ce=D,Wn=(r,t,e={})=>{if(r===t)return!0;r=new Ke(r,e),t=new Ke(t,e);let n=!1;e:for(const a of r.set){for(const s of t.set){const l=Qn(a,s,e);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},Kn=[new be(">=0.0.0-0")],Qe=[new be(">=0.0.0")],Qn=(r,t,e)=>{if(r===t)return!0;if(r.length===1&&r[0].semver===$e){if(t.length===1&&t[0].semver===$e)return!0;e.includePrerelease?r=Kn:r=Qe}if(t.length===1&&t[0].semver===$e){if(e.includePrerelease)return!0;t=Qe}const n=new Set;let a,s;for(const d of r)d.operator===">"||d.operator===">="?a=Ze(a,d,e):d.operator==="<"||d.operator==="<="?s=Je(s,d,e):n.add(d.semver);if(n.size>1)return null;let l;if(a&&s){if(l=Ce(a.semver,s.semver,e),l>0)return null;if(l===0&&(a.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(a&&!Z(d,String(a),e)||s&&!Z(d,String(s),e))return null;for(const p of t)if(!Z(d,String(p),e))return!1;return!0}let h,o,i,c,f=s&&!e.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=a&&!e.includePrerelease&&a.semver.prerelease.length?a.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of t){if(c=c||d.operator===">"||d.operator===">=",i=i||d.operator==="<"||d.operator==="<=",a){if(g&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===g.major&&d.semver.minor===g.minor&&d.semver.patch===g.patch&&(g=!1),d.operator===">"||d.operator===">="){if(h=Ze(a,d,e),h===d&&h!==a)return!1}else if(a.operator===">="&&!Z(a.semver,String(d),e))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(o=Je(s,d,e),o===d&&o!==s)return!1}else if(s.operator==="<="&&!Z(s.semver,String(d),e))return!1}if(!d.operator&&(s||a)&&l!==0)return!1}return!(a&&i&&!s&&l!==0||s&&c&&!a&&l!==0||g||f)},Ze=(r,t,e)=>{if(!r)return t;const n=Ce(r.semver,t.semver,e);return n>0?r:n<0||t.operator===">"&&r.operator===">="?t:r},Je=(r,t,e)=>{if(!r)return t;const n=Ce(r.semver,t.semver,e);return n<0?r:n>0||t.operator==="<"&&r.operator==="<="?t:r};var Zn=Wn;const me=J,et=oe,Jn=P,tt=$t,es=K,ts=ar,rs=lr,ns=fr,ss=dr,is=$r,as=Ir,os=Sr,cs=Tr,ls=D,us=yr,fs=br,hs=Oe,ds=Ur,Es=Gr,ps=le,$s=Ae,ms=mt,vs=vt,Is=ye,Rs=Pe,gs=It,Ss=ln,Ls=ue(),ws=x(),Ts=fe,Ns=$n,Os=Rn,As=wn,ys=On,Ps=Pn,_s=_e,bs=Xn,Cs=Bn,Ds=qn,xs=Yn,Us=Zn;var Fs={parse:es,valid:ts,clean:rs,inc:ns,diff:ss,major:is,minor:as,patch:os,prerelease:cs,compare:ls,rcompare:us,compareLoose:fs,compareBuild:hs,sort:ds,rsort:Es,gt:ps,lt:$s,eq:ms,neq:vs,gte:Is,lte:Rs,cmp:gs,coerce:Ss,Comparator:Ls,Range:ws,satisfies:Ts,toComparators:Ns,maxSatisfying:Os,minSatisfying:As,minVersion:ys,validRange:Ps,outside:_s,gtr:bs,ltr:Cs,intersects:Ds,simplifyRange:xs,subset:Us,SemVer:Jn,re:me.re,src:me.src,tokens:me.t,SEMVER_SPEC_VERSION:et.SEMVER_SPEC_VERSION,RELEASE_TYPES:et.RELEASE_TYPES,compareIdentifiers:tt.compareIdentifiers,rcompareIdentifiers:tt.rcompareIdentifiers};const rt=ct(Fs);var Le=function(){return Le=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Le.apply(this,arguments)},H,A;(function(r){r.blue="blue",r.nanoS="nanoS",r.nanoSP="nanoSP",r.nanoX="nanoX",r.nanoFTS="nanoFTS"})(A||(A={}));var we=(H={},H[A.blue]={id:A.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(r){return 4*1024}},H[A.nanoS]={id:A.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(r){var t;return rt.lt((t=rt.coerce(r))!==null&&t!==void 0?t:"","2.0.0")?4*1024:2*1024}},H[A.nanoSP]={id:A.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(r){return 32}},H[A.nanoX]={id:A.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(r){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},H[A.nanoFTS]={id:A.nanoFTS,productName:"Ledger Nano FTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:2*1024*1024,masks:[857735168],getBlockSize:function(r){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},H);A.blue,A.nanoS,A.nanoSP,A.nanoX,A.nanoFTS;var nt=Object.values(we),gt=11415,st=function(r){var t=nt.find(function(a){return a.legacyUsbProductId===r});if(t)return t;var e=r>>8,n=nt.find(function(a){return a.productIdMM===e});return n},js=[],it={};for(var Gs in we){var at=we[Gs],ve=at.bluetoothSpec;if(ve)for(var Ie=0;Ie<ve.length;Ie++){var se=ve[Ie];js.push(se.serviceUuid),it[se.serviceUuid]=it[se.serviceUuid.replace(/-/g,"")]=Le({deviceModel:at},se)}}let Xs=0;const M=[],ot=(r,t,e)=>{const n={type:r,id:String(++Xs),date:new Date};t&&(n.message=t),ks(n)},Vs=r=>(M.push(r),()=>{const t=M.indexOf(r);t!==-1&&(M[t]=M[M.length-1],M.pop())});function ks(r){for(let t=0;t<M.length;t++)try{M[t](r)}catch(e){console.error(e)}}typeof window<"u"&&(window.__ledgerLogsListen=Vs);var Bs=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),X=function(r,t,e,n){function a(s){return s instanceof e?s:new e(function(l){l(s)})}return new(e||(e=Promise))(function(s,l){function h(c){try{i(n.next(c))}catch(f){l(f)}}function o(c){try{i(n.throw(c))}catch(f){l(f)}}function i(c){c.done?s(c.value):a(c.value).then(h,o)}i((n=n.apply(r,t||[])).next())})},V=function(r,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(i){return function(c){return o([i,c])}}function o(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,a&&(s=i[0]&2?a.return:i[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,i[1])).done)return s;switch(a=0,s&&(i=[i[0]&2,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,a=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!s||i[1]>s[0]&&i[1]<s[3])){e.label=i[1];break}if(i[0]===6&&e.label<s[1]){e.label=s[1],s=i;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(i);break}s[2]&&e.ops.pop(),e.trys.pop();continue}i=t.call(r,e)}catch(c){i=[6,c],a=0}finally{n=s=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Ms=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(h){l={error:h}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(l)throw l.error}}return s},qs=[{vendorId:gt}],Hs=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},ae=function(){var r=navigator.hid;if(!r)throw new Ut("navigator.hid is not supported","HIDNotSupported");return r};function St(){return X(this,void 0,void 0,function(){var r;return V(this,function(t){switch(t.label){case 0:return[4,ae().requestDevice({filters:qs})];case 1:return r=t.sent(),Array.isArray(r)?[2,r]:[2,[r]]}})})}function Te(){return X(this,void 0,void 0,function(){var r;return V(this,function(t){switch(t.label){case 0:return[4,ae().getDevices()];case 1:return r=t.sent(),[2,r.filter(function(e){return e.vendorId===gt})]}})})}function zs(){return X(this,void 0,void 0,function(){var r,t;return V(this,function(e){switch(e.label){case 0:return[4,Te()];case 1:return r=e.sent(),r.length>0?[2,r[0]]:[4,St()];case 2:return t=e.sent(),[2,t[0]]}})})}var Ws=function(r){Bs(t,r);function t(e){var n=r.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(a){n.inputCallback=a})},n.onInputReport=function(a){var s=G.from(a.data.buffer);n.inputCallback?(n.inputCallback(s),n.inputCallback=null):n.inputs.push(s)},n._disconnectEmitted=!1,n._emitDisconnect=function(a){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",a))},n.exchange=function(a){return X(n,void 0,void 0,function(){var s,l=this;return V(this,function(h){switch(h.label){case 0:return[4,this.exchangeAtomicImpl(function(){return X(l,void 0,void 0,function(){var o,i,c,f,g,d,p,_,y;return V(this,function(b){switch(b.label){case 0:o=this,i=o.channel,c=o.packetSize,ot("apdu","=> "+a.toString("hex")),f=Mt(i,c),g=f.makeBlocks(a),d=0,b.label=1;case 1:return d<g.length?[4,this.device.sendReport(0,g[d])]:[3,4];case 2:b.sent(),b.label=3;case 3:return d++,[3,1];case 4:return(p=f.getReducedResult(_))?[3,6]:[4,this.read()];case 5:return y=b.sent(),_=f.reduceResponse(_,y),[3,4];case 6:return ot("apdu","<= "+p.toString("hex")),[2,p]}})})}).catch(function(o){throw o&&o.message&&o.message.includes("write")?(l._emitDisconnect(o),new Dt(o.message)):o})];case 1:return s=h.sent(),[2,s]}})})},n.device=e,n.deviceModel=typeof e.productId=="number"?st(e.productId):void 0,e.addEventListener("inputreport",n.onInputReport),n}return t.request=function(){return X(this,void 0,void 0,function(){var e,n;return V(this,function(a){switch(a.label){case 0:return[4,St()];case 1:return e=Ms.apply(void 0,[a.sent(),1]),n=e[0],[2,t.open(n)]}})})},t.openConnected=function(){return X(this,void 0,void 0,function(){var e;return V(this,function(n){switch(n.label){case 0:return[4,Te()];case 1:return e=n.sent(),e.length===0?[2,null]:[2,t.open(e[0])]}})})},t.open=function(e){return X(this,void 0,void 0,function(){var n,a;return V(this,function(s){switch(s.label){case 0:return[4,e.open()];case 1:return s.sent(),n=new t(e),a=function(l){e===l.device&&(ae().removeEventListener("disconnect",a),n._emitDisconnect(new Ft))},ae().addEventListener("disconnect",a),[2,n]}})})},t.prototype.close=function(){return X(this,void 0,void 0,function(){return V(this,function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return e.sent(),[2]}})})},t.prototype.setScrambleKey=function(){},t.isSupported=Hs,t.list=Te,t.listen=function(e){var n=!1;zs().then(function(s){if(!s)e.error(new De("Access denied to use Ledger device"));else if(!n){var l=typeof s.productId=="number"?st(s.productId):void 0;e.next({type:"add",descriptor:s,deviceModel:l}),e.complete()}},function(s){e.error(new De(s.message))});function a(){n=!0}return{unsubscribe:a}},t}(xt);export{Ws as default};
